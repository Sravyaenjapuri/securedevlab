{"ast":null,"code":"var _jsxFileName = \"/Users/bhanu/Documents/otherwork/secure-ecom/securedevlab-folder/src/components/sql_injection_helper/ShopUnionLab.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BACKEND_URL = \"http://127.0.0.1:5000\";\nconst CATEGORIES = ['laptops', 'tablets', 'phones'];\nconst ShopUnionLab = ({\n  labDetails\n}) => {\n  _s();\n  const [selectedCategory, setSelectedCategory] = useState('laptops');\n  const [products, setProducts] = useState([]);\n  const [error, setError] = useState(null);\n\n  // Fetch products on category change\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const res = await fetch(`${BACKEND_URL}/lab/union-test?category=${encodeURIComponent(selectedCategory)}`);\n        const data = await res.json();\n        if (data.success) {\n          setProducts(data.result);\n          setError(null);\n        } else {\n          setProducts([]);\n          setError(data.error || 'Failed to fetch products.');\n        }\n      } catch (err) {\n        setProducts([]);\n        setError(err.message);\n      }\n    };\n    fetchProducts();\n  }, [selectedCategory]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"display-6 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-primary\",\n          children: \" UNDERSTANDING THE LAB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Below are the list of categories that our electronic store offers. You can click on the category to view the products, which invokes the category filter query.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: labDetails.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 4\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"h4 mb-4 text-capitalize\",\n        children: selectedCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn-group mb-4\",\n        role: \"group\",\n        children: CATEGORIES.map(cat => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSelectedCategory(cat),\n          className: `btn ${cat === selectedCategory ? 'btn-primary' : 'btn-outline-primary'}`,\n          children: cat\n        }, cat, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        role: \"alert\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-responsive\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-hover\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"table-light\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"text-end\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: products.map((item, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.name || /*#__PURE__*/_jsxDEV(\"i\", {\n                  children: \"null\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 39\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"text-end\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary btn-sm\",\n                  children: \"View details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 21\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(ShopUnionLab, \"ld/m3TTN4kGpPjE0Ou+gkvxgOWM=\");\n_c = ShopUnionLab;\nexport default ShopUnionLab;\nvar _c;\n$RefreshReg$(_c, \"ShopUnionLab\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","BACKEND_URL","CATEGORIES","ShopUnionLab","labDetails","_s","selectedCategory","setSelectedCategory","products","setProducts","error","setError","fetchProducts","res","fetch","encodeURIComponent","data","json","success","result","err","message","children","className","fileName","_jsxFileName","lineNumber","columnNumber","description","role","map","cat","onClick","scope","item","i","name","_c","$RefreshReg$"],"sources":["/Users/bhanu/Documents/otherwork/secure-ecom/securedevlab-folder/src/components/sql_injection_helper/ShopUnionLab.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst BACKEND_URL = \"http://127.0.0.1:5000\";\n\nconst CATEGORIES = ['laptops', 'tablets', 'phones'];\n\nconst ShopUnionLab = ({ labDetails }) => {\n  const [selectedCategory, setSelectedCategory] = useState('laptops');\n  const [products, setProducts] = useState([]);\n  const [error, setError] = useState(null);\n\n  // Fetch products on category change\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const res = await fetch(`${BACKEND_URL}/lab/union-test?category=${encodeURIComponent(selectedCategory)}`);\n        const data = await res.json();\n\n        if (data.success) {\n          setProducts(data.result);\n          setError(null);\n        } else {\n          setProducts([]);\n          setError(data.error || 'Failed to fetch products.');\n        }\n      } catch (err) {\n        setProducts([]);\n        setError(err.message);\n      }\n    };\n\n    fetchProducts();\n  }, [selectedCategory]);\n\n  return (\n    <>\n    {/* <div className=\"card shadow-sm\"> */}\n      <div className=\"card-body\">\n        <h1 className=\"display-6 mb-4\">\n          <span className=\"text-primary\"> UNDERSTANDING THE LAB</span>\n        </h1>\n        <p>Below are the list of categories that our electronic store offers. You can click on the category to view the products, which invokes the category filter query.\n</p>\n{/* <br>\n</br> */}\n<p><strong>{labDetails.description}</strong>\n          {/* Now, we want to find out how many columns this category filter query returns by progressively using UNION ... until the query succeeds. */}\n        </p>\n\n        <h2 className=\"h4 mb-4 text-capitalize\">{selectedCategory}</h2>\n\n        <div className=\"btn-group mb-4\" role=\"group\">\n          {CATEGORIES.map(cat => (\n            <button\n              key={cat}\n              onClick={() => setSelectedCategory(cat)}\n              className={`btn ${cat === selectedCategory ? 'btn-primary' : 'btn-outline-primary'}`}\n            >\n              {cat}\n            </button>\n          ))}\n        </div>\n\n        {error ? (\n          <div className=\"alert alert-danger\" role=\"alert\">\n            {error}\n          </div>\n        ) : (\n          <div className=\"table-responsive\">\n            <table className=\"table table-hover\">\n              <thead className=\"table-light\">\n                <tr>\n                  <th scope=\"col\">Name</th>\n                  <th scope=\"col\" className=\"text-end\">Actions</th>\n                </tr>\n              </thead>\n              <tbody>\n                {products.map((item, i) => (\n                  <tr key={i}>\n                    <td>{item.name || <i>null</i>}</td>\n                    <td className=\"text-end\">\n                      <button className=\"btn btn-primary btn-sm\">\n                        View details\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n    {/* </div> */}\n    </>\n  );\n};\n\nexport default ShopUnionLab;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}